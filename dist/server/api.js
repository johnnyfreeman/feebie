(function(){var e,n,o,r,t,d;t=require("express"),d=require("mongoose"),module.exports=r=t(),r.use(function(e,n,o){return n.header("Access-Control-Allow-Origin","*"),n.header("Access-Control-Allow-Methods","GET,PUT,POST,DELETE,OPTIONS"),n.header("Access-Control-Allow-Headers","Content-Type, Authorization, Content-Length, X-Requested-With"),"OPTIONS"===e.method?n.send(200):o()}),o=d.Schema.ObjectId,e=d.model("codes",d.Schema({code:String,description:String})),n=d.model("fees",d.Schema({modifier1:String,modifier2:String,fac:Boolean,quantity:Number,codeId:{type:o,ref:"Code"},year:Number,categoryId:String,amount:Number})),r.get("/",function(e,n){return n.send("The Fee Finder API server is up and running. :)")}),r.get("/code/:code",function(o,r){return e.findOne({code:o.params.code},function(e,o){return e&&r.send(e),n.find({codeId:o._id},function(e,n){return e&&r.send(e),o=o.toObject(),o.fees=n,r.send(o)})})})}).call(this);